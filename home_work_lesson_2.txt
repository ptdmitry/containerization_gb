Птухин Дмитрий, группа № 3073, урок №2

1. Запустить контейнер с ubuntu, используя механизм LXC

ptdmitry@pt-linux:~$ lxd init
Command 'lxd' not found, but can be installed with:
sudo snap install lxd            # version 5.14-7072c7b, or
sudo apt  install lxd-installer  # version 1
See 'snap info lxd' for additional versions.
ptdmitry@pt-linux:~$ sudo apt install lxd-installer
[sudo] password for ptdmitry:
Reading package lists... Done
Building dependency tree... Done
Reading state information... Done
The following NEW packages will be installed:
  lxd-installer
0 upgraded, 1 newly installed, 0 to remove and 148 not upgraded.
Need to get 3 108 B of archives.
After this operation, 22,5 kB of additional disk space will be used.
Get:1 http://ru.archive.ubuntu.com/ubuntu jammy/main amd64 lxd-installer all 1 [3 108 B]
Fetched 3 108 B in 0s (24,1 kB/s)
Selecting previously unselected package lxd-installer.
(Reading database ... 207509 files and directories currently installed.)
Preparing to unpack .../lxd-installer_1_all.deb ...
Unpacking lxd-installer (1) ...
Setting up lxd-installer (1) ...
Created symlink /etc/systemd/system/multi-user.target.wants/lxd-installer.socket → /lib/systemd/system/lxd-installer.socket.
ptdmitry@pt-linux:~$ sudo apt install lxc-utils
Reading package lists... Done
Building dependency tree... Done
Reading state information... Done
The following additional packages will be installed:
  bridge-utils libfuse2 liblxc-common liblxc1 libpam-cgfs lxcfs uidmap
Suggested packages:
  ifupdown btrfs-tools lvm2 lxc-templates lxctl
The following NEW packages will be installed:
  bridge-utils libfuse2 liblxc-common liblxc1 libpam-cgfs lxc-utils lxcfs
  uidmap
0 upgraded, 8 newly installed, 0 to remove and 148 not upgraded.
Need to get 1 454 kB of archives.
After this operation, 5 105 kB of additional disk space will be used.
Do you want to continue? [Y/n] y
Get:1 http://ru.archive.ubuntu.com/ubuntu jammy/main amd64 bridge-utils amd64 1.7-1ubuntu3 [34,4 kB]
Get:2 http://ru.archive.ubuntu.com/ubuntu jammy/universe amd64 libfuse2 amd64 2.9.9-5ubuntu3 [90,3 kB]
Get:3 http://ru.archive.ubuntu.com/ubuntu jammy/universe amd64 liblxc1 amd64 1:5.0.0~git2209-g5a7b9ce67-0ubuntu1 [356 kB]
Get:4 http://ru.archive.ubuntu.com/ubuntu jammy/universe amd64 liblxc-common amd64 1:5.0.0~git2209-g5a7b9ce67-0ubuntu1 [460 kB]
Get:5 http://ru.archive.ubuntu.com/ubuntu jammy/universe amd64 libpam-cgfs amd64 1:5.0.0~git2209-g5a7b9ce67-0ubuntu1 [25,5 kB]
Get:6 http://ru.archive.ubuntu.com/ubuntu jammy/universe amd64 lxc-utils amd64 1:5.0.0~git2209-g5a7b9ce67-0ubuntu1 [385 kB]
Get:7 http://ru.archive.ubuntu.com/ubuntu jammy/universe amd64 lxcfs amd64 5.0.0-0ubuntu2 [81,1 kB]
Get:8 http://ru.archive.ubuntu.com/ubuntu jammy-updates/universe amd64 uidmap amd64 1:4.8.1-2ubuntu2.1 [22,4 kB]
Fetched 1 454 kB in 0s (3 174 kB/s)
Selecting previously unselected package bridge-utils.
(Reading database ... 207518 files and directories currently installed.)
Preparing to unpack .../0-bridge-utils_1.7-1ubuntu3_amd64.deb ...
Unpacking bridge-utils (1.7-1ubuntu3) ...
Selecting previously unselected package libfuse2:amd64.
Preparing to unpack .../1-libfuse2_2.9.9-5ubuntu3_amd64.deb ...
Unpacking libfuse2:amd64 (2.9.9-5ubuntu3) ...
Selecting previously unselected package liblxc1.
Preparing to unpack .../2-liblxc1_1%3a5.0.0~git2209-g5a7b9ce67-0ubuntu1_amd64.deb ...
Unpacking liblxc1 (1:5.0.0~git2209-g5a7b9ce67-0ubuntu1) ...
Selecting previously unselected package liblxc-common.
Preparing to unpack .../3-liblxc-common_1%3a5.0.0~git2209-g5a7b9ce67-0ubuntu1_amd64.deb ...
Unpacking liblxc-common (1:5.0.0~git2209-g5a7b9ce67-0ubuntu1) ...
Selecting previously unselected package libpam-cgfs.
Preparing to unpack .../4-libpam-cgfs_1%3a5.0.0~git2209-g5a7b9ce67-0ubuntu1_amd64.deb ...
Unpacking libpam-cgfs (1:5.0.0~git2209-g5a7b9ce67-0ubuntu1) ...
Selecting previously unselected package lxc-utils.
Preparing to unpack .../5-lxc-utils_1%3a5.0.0~git2209-g5a7b9ce67-0ubuntu1_amd64.deb ...
Unpacking lxc-utils (1:5.0.0~git2209-g5a7b9ce67-0ubuntu1) ...
Selecting previously unselected package lxcfs.
Preparing to unpack .../6-lxcfs_5.0.0-0ubuntu2_amd64.deb ...
Unpacking lxcfs (5.0.0-0ubuntu2) ...
Selecting previously unselected package uidmap.
Preparing to unpack .../7-uidmap_1%3a4.8.1-2ubuntu2.1_amd64.deb ...
Unpacking uidmap (1:4.8.1-2ubuntu2.1) ...
Setting up libpam-cgfs (1:5.0.0~git2209-g5a7b9ce67-0ubuntu1) ...
Setting up uidmap (1:4.8.1-2ubuntu2.1) ...
Setting up libfuse2:amd64 (2.9.9-5ubuntu3) ...
Setting up bridge-utils (1.7-1ubuntu3) ...
Setting up lxcfs (5.0.0-0ubuntu2) ...
Created symlink /etc/systemd/system/multi-user.target.wants/lxcfs.service → /lib/systemd/system/lxcfs.service.
Setting up liblxc1 (1:5.0.0~git2209-g5a7b9ce67-0ubuntu1) ...
Setting up lxc-utils (1:5.0.0~git2209-g5a7b9ce67-0ubuntu1) ...
Created symlink /etc/systemd/system/multi-user.target.wants/lxc-monitord.service → /lib/systemd/system/lxc-monitord.service.
Created symlink /etc/systemd/system/multi-user.target.wants/lxc-net.service → /lib/systemd/system/lxc-net.service.
Created symlink /etc/systemd/system/multi-user.target.wants/lxc.service → /lib/systemd/system/lxc.service.
Setting up lxc dnsmasq configuration.
Setting up liblxc-common (1:5.0.0~git2209-g5a7b9ce67-0ubuntu1) ...
Processing triggers for man-db (2.10.2-1) ...
Processing triggers for libc-bin (2.35-0ubuntu3.1) ...
ptdmitry@pt-linux:~$ lxd init
Would you like to use LXD clustering? (yes/no) [default=no]: y
What IP address or DNS name should be used to reach this server? [default=10.0.2.15]:
Are you joining an existing cluster? (yes/no) [default=no]: y
Error: Joining an existing cluster requires root privileges
ptdmitry@pt-linux:~$ lxd init
Would you like to use LXD clustering? (yes/no) [default=no]: no
Do you want to configure a new storage pool? (yes/no) [default=yes]: y
Name of the new storage pool [default=default]:
Name of the storage backend to use (btrfs, ceph, dir, lvm, zfs) [default=zfs]:
Create a new ZFS pool? (yes/no) [default=yes]:
Would you like to use an existing empty block device (e.g. a disk or partition)? (yes/no) [default=no]:
Size in GiB of the new loop device (1GiB minimum) [default=5GiB]:
Would you like to connect to a MAAS server? (yes/no) [default=no]:
Would you like to create a new local network bridge? (yes/no) [default=yes]:
What should the new bridge be called? [default=lxdbr0]:
What IPv4 address should be used? (CIDR subnet notation, “auto” or “none”) [default=auto]:
What IPv6 address should be used? (CIDR subnet notation, “auto” or “none”) [default=auto]:
Would you like the LXD server to be available over the network? (yes/no) [default=no]:
Would you like stale cached images to be updated automatically? (yes/no) [default=yes]:
Would you like a YAML "lxd init" preseed to be printed? (yes/no) [default=no]:
ptdmitry@pt-linux:~$ sudo lxc-create -n test_vb -t download
Downloading the image index

---
DIST    RELEASE ARCH    VARIANT BUILD
---
almalinux       8       amd64   default 20230601_01:35
almalinux       8       arm64   default 20230601_04:27
almalinux       8       ppc64el default 20230601_01:38
almalinux       9       amd64   default 20230601_01:35
almalinux       9       arm64   default 20230601_02:10
almalinux       9       ppc64el default 20230601_02:13
alpine  3.15    amd64   default 20230601_13:01
alpine  3.15    arm64   default 20230601_13:01
alpine  3.15    armhf   default 20230601_13:00
alpine  3.15    i386    default 20230601_13:00
alpine  3.15    ppc64el default 20230601_13:02
alpine  3.15    s390x   default 20230601_13:00
alpine  3.16    amd64   default 20230601_13:01
alpine  3.16    arm64   default 20230601_13:01
alpine  3.16    armhf   default 20230601_13:00
alpine  3.16    i386    default 20230601_13:00
alpine  3.16    ppc64el default 20230601_13:01
alpine  3.16    s390x   default 20230601_13:00
alpine  3.17    amd64   default 20230601_13:01
alpine  3.17    arm64   default 20230601_13:00
alpine  3.17    armhf   default 20230601_13:01
alpine  3.17    i386    default 20230601_13:00
alpine  3.17    ppc64el default 20230601_13:03
alpine  3.17    s390x   default 20230601_13:00
alpine  3.18    amd64   default 20230601_13:01
alpine  3.18    arm64   default 20230601_13:00
alpine  3.18    armhf   default 20230601_13:01
alpine  3.18    i386    default 20230601_13:01
alpine  3.18    ppc64el default 20230601_13:00
alpine  3.18    s390x   default 20230601_13:00
alpine  edge    amd64   default 20230601_13:00
alpine  edge    arm64   default 20230601_13:01
alpine  edge    armhf   default 20230601_13:00
alpine  edge    ppc64el default 20230601_13:00
alpine  edge    s390x   default 20230601_13:00
alt     Sisyphus        amd64   default 20230601_01:35
alt     Sisyphus        arm64   default 20230601_01:47
alt     Sisyphus        armhf   default 20230601_01:59
alt     Sisyphus        ppc64el default 20230601_01:54
alt     p10     amd64   default 20230601_01:35
alt     p10     arm64   default 20230601_02:12
alt     p10     armhf   default 20230601_01:53
alt     p10     ppc64el default 20230601_01:35
alt     p9      amd64   default 20230601_01:38
alt     p9      arm64   default 20230601_01:54
alt     p9      armhf   default 20230601_01:50
alt     p9      ppc64el default 20230601_02:27
amazonlinux     current amd64   default 20230601_05:09
amazonlinux     current arm64   default 20230601_05:17
apertis v2020   amd64   default 20230601_10:53
apertis v2020   arm64   default 20230601_11:08
apertis v2020   armhf   default 20230601_10:53
apertis v2021   amd64   default 20230601_10:53
apertis v2021   arm64   default 20230601_10:53
apertis v2021   armhf   default 20230601_10:53
archlinux       current amd64   default 20230601_04:19
archlinux       current arm64   default 20230601_04:30
archlinux       current armhf   default 20230601_04:32
busybox 1.34.1  amd64   default 20230601_06:00
busybox 1.34.1  arm64   default 20230601_06:00
centos  7       amd64   default 20230601_07:09
centos  7       arm64   default 20230601_07:09
centos  7       armhf   default 20230601_07:10
centos  7       i386    default 20230601_07:09
centos  7       ppc64el default 20230601_07:27
centos  8-Stream        amd64   default 20230601_07:10
centos  8-Stream        arm64   default 20230601_07:09
centos  8-Stream        ppc64el default 20230601_07:29
centos  9-Stream        amd64   default 20230601_07:09
centos  9-Stream        arm64   default 20230601_07:09
centos  9-Stream        ppc64el default 20230601_07:09
debian  bookworm        amd64   default 20230601_05:24
debian  bookworm        arm64   default 20230601_05:25
debian  bookworm        armel   default 20230601_05:43
debian  bookworm        armhf   default 20230601_06:04
debian  bookworm        i386    default 20230601_05:25
debian  bookworm        ppc64el default 20230601_05:24
debian  bookworm        s390x   default 20230601_05:24
debian  bullseye        amd64   default 20230601_05:24
debian  bullseye        arm64   default 20230601_05:24
debian  bullseye        armel   default 20230601_05:34
debian  bullseye        armhf   default 20230601_05:24
debian  bullseye        i386    default 20230601_05:25
debian  bullseye        ppc64el default 20230601_05:36
debian  bullseye        s390x   default 20230601_05:24
debian  buster  amd64   default 20230601_05:25
debian  buster  arm64   default 20230601_06:28
debian  buster  armel   default 20230601_05:48
debian  buster  armhf   default 20230601_05:24
debian  buster  i386    default 20230601_05:25
debian  buster  ppc64el default 20230601_05:36
debian  buster  s390x   default 20230601_05:24
debian  sid     amd64   default 20230601_05:24
debian  sid     arm64   default 20230601_06:28
debian  sid     armel   default 20230601_05:45
debian  sid     armhf   default 20230601_05:48
debian  sid     i386    default 20230601_05:24
debian  sid     ppc64el default 20230601_05:36
debian  sid     s390x   default 20230601_05:24
devuan  beowulf amd64   default 20230601_11:51
devuan  beowulf arm64   default 20230601_11:51
devuan  beowulf armel   default 20230601_11:51
devuan  beowulf armhf   default 20230601_11:51
devuan  beowulf i386    default 20230601_11:51
devuan  beowulf ppc64el default 20230601_11:50
devuan  chimaera        amd64   default 20230601_11:50
devuan  chimaera        arm64   default 20230601_11:51
devuan  chimaera        armel   default 20230601_11:50
devuan  chimaera        armhf   default 20230601_11:51
devuan  chimaera        i386    default 20230601_11:50
devuan  chimaera        ppc64el default 20230601_11:50
fedora  36      amd64   default 20230601_01:35
fedora  36      arm64   default 20230601_01:49
fedora  36      ppc64el default 20230601_01:37
fedora  36      s390x   default 20230601_01:34
fedora  37      amd64   default 20230601_01:35
fedora  37      arm64   default 20230601_02:17
fedora  37      ppc64el default 20230601_02:45
fedora  37      s390x   default 20230601_01:47
fedora  38      amd64   default 20230601_01:38
fedora  38      arm64   default 20230601_02:23
fedora  38      ppc64el default 20230601_02:15
fedora  38      s390x   default 20230601_01:53
fedora  Rawhide amd64   default 20230601_01:41
fedora  Rawhide arm64   default 20230601_02:18
fedora  Rawhide ppc64el default 20230601_01:42
fedora  Rawhide s390x   default 20230601_01:35
funtoo  1.4     amd64   default 20230601_16:45
funtoo  1.4     armhf   default 20230601_01:35
funtoo  next    amd64   default 20230601_16:45
kali    current amd64   default 20230601_01:36
kali    current arm64   default 20230601_01:35
kali    current armel   default 20230601_01:35
kali    current armhf   default 20230601_01:35
mint    tara    amd64   default 20230601_08:51
mint    tessa   amd64   default 20230601_08:51
mint    tina    amd64   default 20230601_09:22
mint    tricia  amd64   default 20230601_08:51
mint    ulyana  amd64   default 20230601_08:51
mint    ulyssa  amd64   default 20230601_08:51
mint    uma     amd64   default 20230601_08:51
mint    una     amd64   default 20230601_09:22
mint    vanessa amd64   default 20230601_08:51
mint    vera    amd64   default 20230601_08:51
openeuler       20.03   amd64   default 20230601_15:48
openeuler       20.03   arm64   default 20230601_16:41
openeuler       22.03   amd64   default 20230531_15:48
openeuler       22.03   arm64   default 20230601_15:48
openeuler       22.09   amd64   default 20230529_15:48
openeuler       22.09   arm64   default 20230529_17:11
openeuler       23.03   amd64   default 20230601_15:48
openeuler       23.03   arm64   default 20230601_15:48
opensuse        15.4    amd64   default 20230601_05:41
opensuse        15.4    arm64   default 20230601_04:35
opensuse        15.4    ppc64el default 20230601_04:20
opensuse        15.4    s390x   default 20230601_04:20
opensuse        tumbleweed      amd64   default 20230601_04:20
opensuse        tumbleweed      arm64   default 20230601_05:17
opensuse        tumbleweed      ppc64el default 20230601_04:20
opensuse        tumbleweed      s390x   default 20230601_04:20
openwrt 21.02   amd64   default 20230601_11:57
openwrt 21.02   arm64   default 20230601_11:57
openwrt 21.02   armhf   default 20230601_12:09
openwrt 22.03   amd64   default 20230601_11:57
openwrt 22.03   arm64   default 20230601_11:57
openwrt 22.03   armhf   default 20230601_12:08
openwrt snapshot        amd64   default 20230601_11:57
openwrt snapshot        arm64   default 20230601_12:31
openwrt snapshot        armhf   default 20230601_12:09
oracle  7       amd64   default 20230601_07:46
oracle  7       arm64   default 20230601_07:50
oracle  8       amd64   default 20230601_07:48
oracle  8       arm64   default 20230601_08:14
oracle  9       amd64   default 20230601_07:47
oracle  9       arm64   default 20230601_08:16
plamo   6.x     amd64   default 20230531_01:48
plamo   7.x     amd64   default 20230531_01:48
pld     current amd64   default 20230601_01:36
rockylinux      8       amd64   default 20230601_02:38
rockylinux      8       arm64   default 20230601_04:26
rockylinux      9       amd64   default 20230601_02:38
rockylinux      9       arm64   default 20230601_04:27
rockylinux      9       ppc64el default 20230601_03:06
springdalelinux 7       amd64   default 20230601_06:39
springdalelinux 7       i386    default 20230601_06:39
springdalelinux 8       amd64   default 20230601_06:39
springdalelinux 9       amd64   default 20230601_06:39
ubuntu  bionic  amd64   default 20230601_07:42
ubuntu  bionic  arm64   default 20230601_07:43
ubuntu  bionic  armhf   default 20230601_07:43
ubuntu  bionic  i386    default 20230601_07:43
ubuntu  bionic  ppc64el default 20230601_07:42
ubuntu  bionic  s390x   default 20230531_07:42
ubuntu  focal   amd64   default 20230601_07:42
ubuntu  focal   arm64   default 20230601_07:43
ubuntu  focal   armhf   default 20230601_08:01
ubuntu  focal   ppc64el default 20230601_07:42
ubuntu  focal   s390x   default 20230531_07:51
ubuntu  jammy   amd64   default 20230601_07:42
ubuntu  jammy   arm64   default 20230601_07:43
ubuntu  jammy   armhf   default 20230601_07:42
ubuntu  jammy   ppc64el default 20230531_08:13
ubuntu  jammy   s390x   default 20230531_07:51
ubuntu  kinetic amd64   default 20230601_07:43
ubuntu  kinetic arm64   default 20230601_07:43
ubuntu  kinetic armhf   default 20230601_07:43
ubuntu  kinetic ppc64el default 20230531_08:05
ubuntu  kinetic s390x   default 20230531_07:53
ubuntu  lunar   amd64   default 20230601_07:43
ubuntu  lunar   arm64   default 20230601_07:43
ubuntu  lunar   armhf   default 20230601_08:12
ubuntu  lunar   ppc64el default 20230531_07:42
ubuntu  lunar   s390x   default 20230531_07:42
ubuntu  mantic  amd64   default 20230601_07:42
ubuntu  mantic  arm64   default 20230601_07:43
ubuntu  mantic  armhf   default 20230601_08:13
ubuntu  mantic  ppc64el default 20230531_07:42
ubuntu  mantic  s390x   default 20230531_07:49
ubuntu  xenial  amd64   default 20230601_07:42
ubuntu  xenial  arm64   default 20230601_07:43
ubuntu  xenial  armhf   default 20230601_07:42
ubuntu  xenial  i386    default 20230601_07:42
ubuntu  xenial  ppc64el default 20230601_07:42
ubuntu  xenial  s390x   default 20230531_07:42
voidlinux       current amd64   default 20230530_17:40
voidlinux       current arm64   default 20230530_18:59
voidlinux       current armhf   default 20230530_18:58
---

Distribution:
ubuntu
Release:
jammy
Architecture:
amd64

Downloading the image index
Downloading the rootfs
Downloading the metadata
The image cache is now ready
Unpacking the rootfs

---
You just created an Ubuntu jammy amd64 (20230601_07:42) container.

To enable SSH, run: apt install openssh-server
No default root or user password are set by LXC.
ptdmitry@pt-linux:~$ sudo lxc-start -n test_vb
ptdmitry@pt-linux:~$ sudo lxc-ls -f
NAME    STATE   AUTOSTART GROUPS IPV4       IPV6 UNPRIVILEGED
test_vb RUNNING 0         -      10.0.3.245 -    false
ptdmitry@pt-linux:~$ sudo lxc-attach -n test_vb
root@testvb:/# hostname
testvb
root@testvb:/# free -m
               total        used        free      shared  buff/cache   available
Mem:            1974          25        1933           0          15        1949
Swap:              0           0           0
root@testvb:/# exit
exit

2. Ограничить контейнер 256 Мб ОЗУ и проверить, что ограничение работает

3. Добавить автозапуск контейнеру, перезагрузить ОС и убедиться, что контейнер действительно запустился самостоятельно

ptdmitry@pt-linux:~$ sudo vim /var/lib/lxc/test_vb/config
ptdmitry@pt-linux:~$ sudo lxc-stop -n test_vb
ptdmitry@pt-linux:~$ sudo lxc-ls -f
NAME    STATE   AUTOSTART GROUPS IPV4 IPV6 UNPRIVILEGED
test_vb STOPPED 1         -      -    -    false
ptdmitry@pt-linux:~$ sudo lxc-start -n test_vb
ptdmitry@pt-linux:~$ sudo lxc-ls -f
NAME    STATE   AUTOSTART GROUPS IPV4       IPV6 UNPRIVILEGED
test_vb RUNNING 1         -      10.0.3.245 -    false
ptdmitry@pt-linux:~$ sudo lxc-attach -n test_vb
root@testvb:/# hostname
testvb
root@testvb:/# free -m
               total        used        free      shared  buff/cache   available
Mem:             256          25         229           0           1         230
Swap:              0           0           0
root@testvb:/# exit
exit

4. При создании указать файл, куда записывать логи

ptdmitry@pt-linux:~$ sudo lxc-stop -n test_vb
ptdmitry@pt-linux:~$ sudo lxc-start -n test_vb --logfile /logfile.log --logprio
rity=DEBUG
ptdmitry@pt-linux:~$ ls /
bin    dev   lib    libx32       media  proc  sbin  swapfile  usr
boot   etc   lib32  logfile.log  mnt    root  snap  sys       var
cdrom  home  lib64  lost+found   opt    run   srv   tmp
ptdmitry@pt-linux:~$ sudo lxc-attach -n test_vb
root@testvb:/# exit
exit
ptdmitry@pt-linux:~$ sudo cat /logfile.log
lxc-start test_vb 20230601182715.172 INFO     lxccontainer - lxccontainer.c:do_lxcapi_start:997 - Set process title to [lxc monitor] /var/lib/lxc test_vb
lxc-start test_vb 20230601182715.173 DEBUG    lxccontainer - lxccontainer.c:wait_on_daemonized_start:858 - First child 10551 exited
lxc-start test_vb 20230601182715.174 INFO     lsm - lsm/lsm.c:lsm_init_static:38 - Initialized LSM security driver AppArmor
lxc-start test_vb 20230601182715.175 DEBUG    seccomp - seccomp.c:parse_config_v2:656 - Host native arch is [3221225534]
lxc-start test_vb 20230601182715.175 INFO     seccomp - seccomp.c:parse_config_v2:807 - Processing "reject_force_umount  # comment this to allow umount -f;  not recommended"
lxc-start test_vb 20230601182715.175 INFO     seccomp - seccomp.c:do_resolve_add_rule:524 - Set seccomp rule to reject force umounts
lxc-start test_vb 20230601182715.175 INFO     seccomp - seccomp.c:do_resolve_add_rule:524 - Set seccomp rule to reject force umounts
lxc-start test_vb 20230601182715.175 INFO     seccomp - seccomp.c:do_resolve_add_rule:524 - Set seccomp rule to reject force umounts
lxc-start test_vb 20230601182715.175 INFO     seccomp - seccomp.c:parse_config_v2:807 - Processing "[all]"
lxc-start test_vb 20230601182715.175 INFO     seccomp - seccomp.c:parse_config_v2:807 - Processing "kexec_load errno 1"
lxc-start test_vb 20230601182715.175 INFO     seccomp - seccomp.c:do_resolve_add_rule:564 - Adding native rule for syscall[246:kexec_load] action[327681:errno] arch[0]
lxc-start test_vb 20230601182715.175 INFO     seccomp - seccomp.c:do_resolve_add_rule:564 - Adding compat rule for syscall[246:kexec_load] action[327681:errno] arch[1073741827]
lxc-start test_vb 20230601182715.175 INFO     seccomp - seccomp.c:do_resolve_add_rule:564 - Adding compat rule for syscall[246:kexec_load] action[327681:errno] arch[1073741886]
lxc-start test_vb 20230601182715.175 INFO     seccomp - seccomp.c:parse_config_v2:807 - Processing "open_by_handle_at errno 1"
lxc-start test_vb 20230601182715.175 INFO     seccomp - seccomp.c:do_resolve_add_rule:564 - Adding native rule for syscall[304:open_by_handle_at] action[327681:errno] arch[0]
lxc-start test_vb 20230601182715.175 INFO     seccomp - seccomp.c:do_resolve_add_rule:564 - Adding compat rule for syscall[304:open_by_handle_at] action[327681:errno] arch[1073741827]
lxc-start test_vb 20230601182715.175 INFO     seccomp - seccomp.c:do_resolve_add_rule:564 - Adding compat rule for syscall[304:open_by_handle_at] action[327681:errno] arch[1073741886]
lxc-start test_vb 20230601182715.175 INFO     seccomp - seccomp.c:parse_config_v2:807 - Processing "init_module errno 1"
lxc-start test_vb 20230601182715.175 INFO     seccomp - seccomp.c:do_resolve_add_rule:564 - Adding native rule for syscall[175:init_module] action[327681:errno] arch[0]
lxc-start test_vb 20230601182715.175 INFO     seccomp - seccomp.c:do_resolve_add_rule:564 - Adding compat rule for syscall[175:init_module] action[327681:errno] arch[1073741827]
lxc-start test_vb 20230601182715.175 INFO     seccomp - seccomp.c:do_resolve_add_rule:564 - Adding compat rule for syscall[175:init_module] action[327681:errno] arch[1073741886]
lxc-start test_vb 20230601182715.175 INFO     seccomp - seccomp.c:parse_config_v2:807 - Processing "finit_module errno 1"
lxc-start test_vb 20230601182715.175 INFO     seccomp - seccomp.c:do_resolve_add_rule:564 - Adding native rule for syscall[313:finit_module] action[327681:errno] arch[0]
lxc-start test_vb 20230601182715.175 INFO     seccomp - seccomp.c:do_resolve_add_rule:564 - Adding compat rule for syscall[313:finit_module] action[327681:errno] arch[1073741827]
lxc-start test_vb 20230601182715.175 INFO     seccomp - seccomp.c:do_resolve_add_rule:564 - Adding compat rule for syscall[313:finit_module] action[327681:errno] arch[1073741886]
lxc-start test_vb 20230601182715.175 INFO     seccomp - seccomp.c:parse_config_v2:807 - Processing "delete_module errno 1"
lxc-start test_vb 20230601182715.175 INFO     seccomp - seccomp.c:do_resolve_add_rule:564 - Adding native rule for syscall[176:delete_module] action[327681:errno] arch[0]
lxc-start test_vb 20230601182715.175 INFO     seccomp - seccomp.c:do_resolve_add_rule:564 - Adding compat rule for syscall[176:delete_module] action[327681:errno] arch[1073741827]
lxc-start test_vb 20230601182715.175 INFO     seccomp - seccomp.c:do_resolve_add_rule:564 - Adding compat rule for syscall[176:delete_module] action[327681:errno] arch[1073741886]
lxc-start test_vb 20230601182715.175 INFO     seccomp - seccomp.c:parse_config_v2:1017 - Merging compat seccomp contexts into main context
lxc-start test_vb 20230601182715.176 INFO     start - start.c:lxc_init:884 - Container "test_vb" is initialized
lxc-start test_vb 20230601182715.192 INFO     cgfsng - cgroups/cgfsng.c:cgfsng_monitor_create:1029 - The monitor process uses "lxc.monitor.test_vb" as cgroup
lxc-start test_vb 20230601182715.194 DEBUG    storage - storage/storage.c:get_storage_by_name:209 - Detected rootfs type "dir"
lxc-start test_vb 20230601182715.195 INFO     cgfsng - cgroups/cgfsng.c:cgfsng_payload_create:1137 - The container process uses "lxc.payload.test_vb" as inner and "lxc.payload.test_vb" as limit cgroup
lxc-start test_vb 20230601182715.197 INFO     start - start.c:lxc_spawn:1765 - Cloned CLONE_NEWNS
lxc-start test_vb 20230601182715.197 INFO     start - start.c:lxc_spawn:1765 - Cloned CLONE_NEWPID
lxc-start test_vb 20230601182715.197 INFO     start - start.c:lxc_spawn:1765 - Cloned CLONE_NEWUTS
lxc-start test_vb 20230601182715.197 INFO     start - start.c:lxc_spawn:1765 - Cloned CLONE_NEWIPC
lxc-start test_vb 20230601182715.197 INFO     start - start.c:lxc_spawn:1765 - Cloned CLONE_NEWNET
lxc-start test_vb 20230601182715.197 INFO     start - start.c:lxc_spawn:1765 - Cloned CLONE_NEWCGROUP
lxc-start test_vb 20230601182715.197 DEBUG    start - start.c:lxc_try_preserve_namespace:139 - Preserved mnt namespace via fd 19 and stashed path as mnt:/proc/10552/fd/19
lxc-start test_vb 20230601182715.197 DEBUG    start - start.c:lxc_try_preserve_namespace:139 - Preserved pid namespace via fd 20 and stashed path as pid:/proc/10552/fd/20
lxc-start test_vb 20230601182715.197 DEBUG    start - start.c:lxc_try_preserve_namespace:139 - Preserved uts namespace via fd 21 and stashed path as uts:/proc/10552/fd/21
lxc-start test_vb 20230601182715.198 DEBUG    start - start.c:lxc_try_preserve_namespace:139 - Preserved ipc namespace via fd 22 and stashed path as ipc:/proc/10552/fd/22
lxc-start test_vb 20230601182715.198 DEBUG    start - start.c:lxc_try_preserve_namespace:139 - Preserved net namespace via fd 23 and stashed path as net:/proc/10552/fd/23
lxc-start test_vb 20230601182715.198 DEBUG    start - start.c:lxc_try_preserve_namespace:139 - Preserved cgroup namespace via fd 24 and stashed path as cgroup:/proc/10552/fd/24
lxc-start test_vb 20230601182715.198 WARN     cgfsng - cgroups/cgfsng.c:cgfsng_setup_limits_legacy:2767 - Invalid argument - Ignoring legacy cgroup limits on pure cgroup2 system
lxc-start test_vb 20230601182715.198 INFO     cgfsng - cgroups/cgfsng.c:cgfsng_setup_limits:2863 - Limits for the unified cgroup hierarchy have been setup
lxc-start test_vb 20230601182715.223 INFO     network - network.c:netdev_configure_server_veth:655 - Retrieved mtu 1500 from lxcbr0
lxc-start test_vb 20230601182715.227 INFO     network - network.c:netdev_configure_server_veth:721 - Attached "vethjBndRY" to bridge "lxcbr0"
lxc-start test_vb 20230601182715.227 DEBUG    network - network.c:netdev_configure_server_veth:852 - Instantiated veth tunnel "vethjBndRY <--> vethKfTnwz"
lxc-start test_vb 20230601182715.229 DEBUG    conf - conf.c:lxc_mount_rootfs:1436 - Mounted rootfs "/var/lib/lxc/test_vb/rootfs" onto "/usr/lib/x86_64-linux-gnu/lxc" with options "(null)"
lxc-start test_vb 20230601182715.229 INFO     conf - conf.c:setup_utsname:875 - Set hostname to "test_vb"
lxc-start test_vb 20230601182715.229 INFO     network - network.c:lxc_setup_network_in_child_namespaces:4019 - Finished setting up network devices with caller assigned names
lxc-start test_vb 20230601182715.261 DEBUG    network - network.c:setup_hw_addr:3821 - Mac address "00:16:3e:2f:80:7c" on "eth0" has been setup
lxc-start test_vb 20230601182715.261 DEBUG    network - network.c:lxc_network_setup_in_child_namespaces_common:3962 - Network device "eth0" has been setup
lxc-start test_vb 20230601182715.262 INFO     network - network.c:lxc_setup_network_in_child_namespaces:4035 - Finished setting up network devices with kernel assigned names
lxc-start test_vb 20230601182715.262 INFO     conf - conf.c:mount_autodev:1219 - Preparing "/dev"
lxc-start test_vb 20230601182715.262 INFO     conf - conf.c:mount_autodev:1280 - Prepared "/dev"
lxc-start test_vb 20230601182715.262 DEBUG    conf - conf.c:lxc_mount_auto_mounts:735 - Invalid argument - Tried to ensure procfs is unmounted
lxc-start test_vb 20230601182715.262 DEBUG    conf - conf.c:lxc_mount_auto_mounts:758 - Invalid argument - Tried to ensure sysfs is unmounted
lxc-start test_vb 20230601182715.264 DEBUG    conf - conf.c:mount_entry:2416 - Remounting "/sys/fs/fuse/connections" on "/usr/lib/x86_64-linux-gnu/lxc/sys/fs/fuse/connections" to respect bind or remount options
lxc-start test_vb 20230601182715.264 DEBUG    conf - conf.c:mount_entry:2435 - Flags for "/sys/fs/fuse/connections" were 4110, required extra flags are 14
lxc-start test_vb 20230601182715.264 DEBUG    conf - conf.c:mount_entry:2479 - Mounted "/sys/fs/fuse/connections" on "/usr/lib/x86_64-linux-gnu/lxc/sys/fs/fuse/connections" with filesystem type "none"
lxc-start test_vb 20230601182715.264 DEBUG    cgfsng - cgroups/cgfsng.c:__cgroupfs_mount:1542 - Mounted cgroup filesystem cgroup2 onto 21((null))
lxc-start test_vb 20230601182715.264 INFO     conf - conf.c:run_script_argv:337 - Executing script "/usr/share/lxcfs/lxc.mount.hook" for container "test_vb", config section "lxc"
lxc-start test_vb 20230601182715.358 INFO     conf - conf.c:lxc_fill_autodev:1317 - Populating "/dev"
lxc-start test_vb 20230601182715.358 DEBUG    conf - conf.c:lxc_fill_autodev:1326 - Created device node "full"
lxc-start test_vb 20230601182715.358 DEBUG    conf - conf.c:lxc_fill_autodev:1326 - Created device node "null"
lxc-start test_vb 20230601182715.358 DEBUG    conf - conf.c:lxc_fill_autodev:1326 - Created device node "random"
lxc-start test_vb 20230601182715.358 DEBUG    conf - conf.c:lxc_fill_autodev:1326 - Created device node "tty"
lxc-start test_vb 20230601182715.358 DEBUG    conf - conf.c:lxc_fill_autodev:1326 - Created device node "urandom"
lxc-start test_vb 20230601182715.358 DEBUG    conf - conf.c:lxc_fill_autodev:1326 - Created device node "zero"
lxc-start test_vb 20230601182715.358 INFO     conf - conf.c:lxc_fill_autodev:1405 - Populated "/dev"
lxc-start test_vb 20230601182715.358 INFO     conf - conf.c:lxc_transient_proc:3775 - Caller's PID is 1; /proc/self points to 1
lxc-start test_vb 20230601182715.358 DEBUG    conf - conf.c:lxc_setup_devpts_child:1751 - Attached detached devpts mount 22 to 20/pts
lxc-start test_vb 20230601182715.358 DEBUG    conf - conf.c:lxc_setup_devpts_child:1837 - Created "/dev/ptmx" file as bind mount target
lxc-start test_vb 20230601182715.358 DEBUG    conf - conf.c:lxc_setup_devpts_child:1844 - Bind mounted "/dev/pts/ptmx" to "/dev/ptmx"
lxc-start test_vb 20230601182715.359 DEBUG    conf - conf.c:lxc_allocate_ttys:1104 - Created tty with ptx fd 24 and pty fd 25 and index 1
lxc-start test_vb 20230601182715.359 DEBUG    conf - conf.c:lxc_allocate_ttys:1104 - Created tty with ptx fd 26 and pty fd 27 and index 2
lxc-start test_vb 20230601182715.359 DEBUG    conf - conf.c:lxc_allocate_ttys:1104 - Created tty with ptx fd 28 and pty fd 29 and index 3
lxc-start test_vb 20230601182715.359 DEBUG    conf - conf.c:lxc_allocate_ttys:1104 - Created tty with ptx fd 30 and pty fd 31 and index 4
lxc-start test_vb 20230601182715.359 INFO     conf - conf.c:lxc_allocate_ttys:1109 - Finished creating 4 tty devices
lxc-start test_vb 20230601182715.359 DEBUG    conf - conf.c:lxc_setup_ttys:1028 - Bind mounted "pts/1" onto "/dev/lxc/tty1"
lxc-start test_vb 20230601182715.360 DEBUG    conf - conf.c:lxc_setup_ttys:1028 - Bind mounted "pts/2" onto "/dev/lxc/tty2"
lxc-start test_vb 20230601182715.360 DEBUG    conf - conf.c:lxc_setup_ttys:1028 - Bind mounted "pts/3" onto "/dev/lxc/tty3"
lxc-start test_vb 20230601182715.360 DEBUG    conf - conf.c:lxc_setup_ttys:1028 - Bind mounted "pts/4" onto "/dev/lxc/tty4"
lxc-start test_vb 20230601182715.360 INFO     conf - conf.c:lxc_setup_ttys:1072 - Finished setting up 4 /dev/tty<N> device(s)
lxc-start test_vb 20230601182715.361 INFO     conf - conf.c:setup_personality:1917 - Set personality to "0lx0"
lxc-start test_vb 20230601182715.361 DEBUG    conf - conf.c:capabilities_deny:3200 - Dropped mac_admin (33) capability
lxc-start test_vb 20230601182715.361 DEBUG    conf - conf.c:capabilities_deny:3200 - Dropped mac_override (32) capability
lxc-start test_vb 20230601182715.361 DEBUG    conf - conf.c:capabilities_deny:3200 - Dropped sys_time (25) capability
lxc-start test_vb 20230601182715.361 DEBUG    conf - conf.c:capabilities_deny:3200 - Dropped sys_module (16) capability
lxc-start test_vb 20230601182715.361 DEBUG    conf - conf.c:capabilities_deny:3200 - Dropped sys_rawio (17) capability
lxc-start test_vb 20230601182715.361 DEBUG    conf - conf.c:capabilities_deny:3203 - Capabilities have been setup
lxc-start test_vb 20230601182715.362 NOTICE   conf - conf.c:lxc_setup:4469 - The container "test_vb" is set up
lxc-start test_vb 20230601182715.362 INFO     apparmor - lsm/apparmor.c:apparmor_process_label_set_at:1186 - Set AppArmor label to "lxc-container-default-cgns"
lxc-start test_vb 20230601182715.362 INFO     apparmor - lsm/apparmor.c:apparmor_process_label_set:1231 - Changed AppArmor profile to lxc-container-default-cgns
lxc-start test_vb 20230601182715.362 WARN     cgfsng - cgroups/cgfsng.c:cgfsng_setup_limits_legacy:2767 - Invalid argument - Ignoring legacy cgroup limits on pure cgroup2 system
lxc-start test_vb 20230601182715.364 DEBUG    terminal - terminal.c:lxc_terminal_peer_default:695 - No such device - The process does not have a controlling terminal
lxc-start test_vb 20230601182715.364 NOTICE   utils - utils.c:lxc_drop_groups:1368 - Dropped supplimentary groups
lxc-start test_vb 20230601182715.364 NOTICE   start - start.c:start:2161 - Exec'ing "/sbin/init"
lxc-start test_vb 20230601182715.368 NOTICE   start - start.c:post_start:2172 - Started "/sbin/init" with pid "10553"

5. После перезагрузки проанализировать логи

ptdmitry@pt-linux:~$ reboot
ptdmitry@pt-linux:~$ sudo lxc-ls -f
[sudo] password for ptdmitry: 
NAME    STATE   AUTOSTART GROUPS IPV4       IPV6 UNPRIVILEGED 
test_vb RUNNING 1         -      10.0.3.245 -    false
ptdmitry@pt-linux:~$ sudo cat /logfile.log
lxc-start test_vb 20230601182715.172 INFO     lxccontainer - lxccontainer.c:do_lxcapi_start:997 - Set process title to [lxc monitor] /var/lib/lxc test_vb
lxc-start test_vb 20230601182715.173 DEBUG    lxccontainer - lxccontainer.c:wait_on_daemonized_start:858 - First child 10551 exited
lxc-start test_vb 20230601182715.174 INFO     lsm - lsm/lsm.c:lsm_init_static:38 - Initialized LSM security driver AppArmor
lxc-start test_vb 20230601182715.175 DEBUG    seccomp - seccomp.c:parse_config_v2:656 - Host native arch is [3221225534]
lxc-start test_vb 20230601182715.175 INFO     seccomp - seccomp.c:parse_config_v2:807 - Processing "reject_force_umount  # comment this to allow umount -f;  not recommended"
lxc-start test_vb 20230601182715.175 INFO     seccomp - seccomp.c:do_resolve_add_rule:524 - Set seccomp rule to reject force umounts
lxc-start test_vb 20230601182715.175 INFO     seccomp - seccomp.c:do_resolve_add_rule:524 - Set seccomp rule to reject force umounts
lxc-start test_vb 20230601182715.175 INFO     seccomp - seccomp.c:do_resolve_add_rule:524 - Set seccomp rule to reject force umounts
lxc-start test_vb 20230601182715.175 INFO     seccomp - seccomp.c:parse_config_v2:807 - Processing "[all]"
lxc-start test_vb 20230601182715.175 INFO     seccomp - seccomp.c:parse_config_v2:807 - Processing "kexec_load errno 1"
lxc-start test_vb 20230601182715.175 INFO     seccomp - seccomp.c:do_resolve_add_rule:564 - Adding native rule for syscall[246:kexec_load] action[327681:errno] arch[0]
lxc-start test_vb 20230601182715.175 INFO     seccomp - seccomp.c:do_resolve_add_rule:564 - Adding compat rule for syscall[246:kexec_load] action[327681:errno] arch[1073741827]
lxc-start test_vb 20230601182715.175 INFO     seccomp - seccomp.c:do_resolve_add_rule:564 - Adding compat rule for syscall[246:kexec_load] action[327681:errno] arch[1073741886]
lxc-start test_vb 20230601182715.175 INFO     seccomp - seccomp.c:parse_config_v2:807 - Processing "open_by_handle_at errno 1"
lxc-start test_vb 20230601182715.175 INFO     seccomp - seccomp.c:do_resolve_add_rule:564 - Adding native rule for syscall[304:open_by_handle_at] action[327681:errno] arch[0]
lxc-start test_vb 20230601182715.175 INFO     seccomp - seccomp.c:do_resolve_add_rule:564 - Adding compat rule for syscall[304:open_by_handle_at] action[327681:errno] arch[1073741827]
lxc-start test_vb 20230601182715.175 INFO     seccomp - seccomp.c:do_resolve_add_rule:564 - Adding compat rule for syscall[304:open_by_handle_at] action[327681:errno] arch[1073741886]
lxc-start test_vb 20230601182715.175 INFO     seccomp - seccomp.c:parse_config_v2:807 - Processing "init_module errno 1"
lxc-start test_vb 20230601182715.175 INFO     seccomp - seccomp.c:do_resolve_add_rule:564 - Adding native rule for syscall[175:init_module] action[327681:errno] arch[0]
lxc-start test_vb 20230601182715.175 INFO     seccomp - seccomp.c:do_resolve_add_rule:564 - Adding compat rule for syscall[175:init_module] action[327681:errno] arch[1073741827]
lxc-start test_vb 20230601182715.175 INFO     seccomp - seccomp.c:do_resolve_add_rule:564 - Adding compat rule for syscall[175:init_module] action[327681:errno] arch[1073741886]
lxc-start test_vb 20230601182715.175 INFO     seccomp - seccomp.c:parse_config_v2:807 - Processing "finit_module errno 1"
lxc-start test_vb 20230601182715.175 INFO     seccomp - seccomp.c:do_resolve_add_rule:564 - Adding native rule for syscall[313:finit_module] action[327681:errno] arch[0]
lxc-start test_vb 20230601182715.175 INFO     seccomp - seccomp.c:do_resolve_add_rule:564 - Adding compat rule for syscall[313:finit_module] action[327681:errno] arch[1073741827]
lxc-start test_vb 20230601182715.175 INFO     seccomp - seccomp.c:do_resolve_add_rule:564 - Adding compat rule for syscall[313:finit_module] action[327681:errno] arch[1073741886]
lxc-start test_vb 20230601182715.175 INFO     seccomp - seccomp.c:parse_config_v2:807 - Processing "delete_module errno 1"
lxc-start test_vb 20230601182715.175 INFO     seccomp - seccomp.c:do_resolve_add_rule:564 - Adding native rule for syscall[176:delete_module] action[327681:errno] arch[0]
lxc-start test_vb 20230601182715.175 INFO     seccomp - seccomp.c:do_resolve_add_rule:564 - Adding compat rule for syscall[176:delete_module] action[327681:errno] arch[1073741827]
lxc-start test_vb 20230601182715.175 INFO     seccomp - seccomp.c:do_resolve_add_rule:564 - Adding compat rule for syscall[176:delete_module] action[327681:errno] arch[1073741886]
lxc-start test_vb 20230601182715.175 INFO     seccomp - seccomp.c:parse_config_v2:1017 - Merging compat seccomp contexts into main context
lxc-start test_vb 20230601182715.176 INFO     start - start.c:lxc_init:884 - Container "test_vb" is initialized
lxc-start test_vb 20230601182715.192 INFO     cgfsng - cgroups/cgfsng.c:cgfsng_monitor_create:1029 - The monitor process uses "lxc.monitor.test_vb" as cgroup
lxc-start test_vb 20230601182715.194 DEBUG    storage - storage/storage.c:get_storage_by_name:209 - Detected rootfs type "dir"
lxc-start test_vb 20230601182715.195 INFO     cgfsng - cgroups/cgfsng.c:cgfsng_payload_create:1137 - The container process uses "lxc.payload.test_vb" as inner and "lxc.payload.test_vb" as limit cgroup
lxc-start test_vb 20230601182715.197 INFO     start - start.c:lxc_spawn:1765 - Cloned CLONE_NEWNS
lxc-start test_vb 20230601182715.197 INFO     start - start.c:lxc_spawn:1765 - Cloned CLONE_NEWPID
lxc-start test_vb 20230601182715.197 INFO     start - start.c:lxc_spawn:1765 - Cloned CLONE_NEWUTS
lxc-start test_vb 20230601182715.197 INFO     start - start.c:lxc_spawn:1765 - Cloned CLONE_NEWIPC
lxc-start test_vb 20230601182715.197 INFO     start - start.c:lxc_spawn:1765 - Cloned CLONE_NEWNET
lxc-start test_vb 20230601182715.197 INFO     start - start.c:lxc_spawn:1765 - Cloned CLONE_NEWCGROUP
lxc-start test_vb 20230601182715.197 DEBUG    start - start.c:lxc_try_preserve_namespace:139 - Preserved mnt namespace via fd 19 and stashed path as mnt:/proc/10552/fd/19
lxc-start test_vb 20230601182715.197 DEBUG    start - start.c:lxc_try_preserve_namespace:139 - Preserved pid namespace via fd 20 and stashed path as pid:/proc/10552/fd/20
lxc-start test_vb 20230601182715.197 DEBUG    start - start.c:lxc_try_preserve_namespace:139 - Preserved uts namespace via fd 21 and stashed path as uts:/proc/10552/fd/21
lxc-start test_vb 20230601182715.198 DEBUG    start - start.c:lxc_try_preserve_namespace:139 - Preserved ipc namespace via fd 22 and stashed path as ipc:/proc/10552/fd/22
lxc-start test_vb 20230601182715.198 DEBUG    start - start.c:lxc_try_preserve_namespace:139 - Preserved net namespace via fd 23 and stashed path as net:/proc/10552/fd/23
lxc-start test_vb 20230601182715.198 DEBUG    start - start.c:lxc_try_preserve_namespace:139 - Preserved cgroup namespace via fd 24 and stashed path as cgroup:/proc/10552/fd/24
lxc-start test_vb 20230601182715.198 WARN     cgfsng - cgroups/cgfsng.c:cgfsng_setup_limits_legacy:2767 - Invalid argument - Ignoring legacy cgroup limits on pure cgroup2 system
lxc-start test_vb 20230601182715.198 INFO     cgfsng - cgroups/cgfsng.c:cgfsng_setup_limits:2863 - Limits for the unified cgroup hierarchy have been setup
lxc-start test_vb 20230601182715.223 INFO     network - network.c:netdev_configure_server_veth:655 - Retrieved mtu 1500 from lxcbr0
lxc-start test_vb 20230601182715.227 INFO     network - network.c:netdev_configure_server_veth:721 - Attached "vethjBndRY" to bridge "lxcbr0"
lxc-start test_vb 20230601182715.227 DEBUG    network - network.c:netdev_configure_server_veth:852 - Instantiated veth tunnel "vethjBndRY <--> vethKfTnwz"
lxc-start test_vb 20230601182715.229 DEBUG    conf - conf.c:lxc_mount_rootfs:1436 - Mounted rootfs "/var/lib/lxc/test_vb/rootfs" onto "/usr/lib/x86_64-linux-gnu/lxc" with options "(null)"
lxc-start test_vb 20230601182715.229 INFO     conf - conf.c:setup_utsname:875 - Set hostname to "test_vb"
lxc-start test_vb 20230601182715.229 INFO     network - network.c:lxc_setup_network_in_child_namespaces:4019 - Finished setting up network devices with caller assigned names
lxc-start test_vb 20230601182715.261 DEBUG    network - network.c:setup_hw_addr:3821 - Mac address "00:16:3e:2f:80:7c" on "eth0" has been setup
lxc-start test_vb 20230601182715.261 DEBUG    network - network.c:lxc_network_setup_in_child_namespaces_common:3962 - Network device "eth0" has been setup
lxc-start test_vb 20230601182715.262 INFO     network - network.c:lxc_setup_network_in_child_namespaces:4035 - Finished setting up network devices with kernel assigned names
lxc-start test_vb 20230601182715.262 INFO     conf - conf.c:mount_autodev:1219 - Preparing "/dev"
lxc-start test_vb 20230601182715.262 INFO     conf - conf.c:mount_autodev:1280 - Prepared "/dev"
lxc-start test_vb 20230601182715.262 DEBUG    conf - conf.c:lxc_mount_auto_mounts:735 - Invalid argument - Tried to ensure procfs is unmounted
lxc-start test_vb 20230601182715.262 DEBUG    conf - conf.c:lxc_mount_auto_mounts:758 - Invalid argument - Tried to ensure sysfs is unmounted
lxc-start test_vb 20230601182715.264 DEBUG    conf - conf.c:mount_entry:2416 - Remounting "/sys/fs/fuse/connections" on "/usr/lib/x86_64-linux-gnu/lxc/sys/fs/fuse/connections" to respect bind or remount options
lxc-start test_vb 20230601182715.264 DEBUG    conf - conf.c:mount_entry:2435 - Flags for "/sys/fs/fuse/connections" were 4110, required extra flags are 14
lxc-start test_vb 20230601182715.264 DEBUG    conf - conf.c:mount_entry:2479 - Mounted "/sys/fs/fuse/connections" on "/usr/lib/x86_64-linux-gnu/lxc/sys/fs/fuse/connections" with filesystem type "none"
lxc-start test_vb 20230601182715.264 DEBUG    cgfsng - cgroups/cgfsng.c:__cgroupfs_mount:1542 - Mounted cgroup filesystem cgroup2 onto 21((null))
lxc-start test_vb 20230601182715.264 INFO     conf - conf.c:run_script_argv:337 - Executing script "/usr/share/lxcfs/lxc.mount.hook" for container "test_vb", config section "lxc"
lxc-start test_vb 20230601182715.358 INFO     conf - conf.c:lxc_fill_autodev:1317 - Populating "/dev"
lxc-start test_vb 20230601182715.358 DEBUG    conf - conf.c:lxc_fill_autodev:1326 - Created device node "full"
lxc-start test_vb 20230601182715.358 DEBUG    conf - conf.c:lxc_fill_autodev:1326 - Created device node "null"
lxc-start test_vb 20230601182715.358 DEBUG    conf - conf.c:lxc_fill_autodev:1326 - Created device node "random"
lxc-start test_vb 20230601182715.358 DEBUG    conf - conf.c:lxc_fill_autodev:1326 - Created device node "tty"
lxc-start test_vb 20230601182715.358 DEBUG    conf - conf.c:lxc_fill_autodev:1326 - Created device node "urandom"
lxc-start test_vb 20230601182715.358 DEBUG    conf - conf.c:lxc_fill_autodev:1326 - Created device node "zero"
lxc-start test_vb 20230601182715.358 INFO     conf - conf.c:lxc_fill_autodev:1405 - Populated "/dev"
lxc-start test_vb 20230601182715.358 INFO     conf - conf.c:lxc_transient_proc:3775 - Caller's PID is 1; /proc/self points to 1
lxc-start test_vb 20230601182715.358 DEBUG    conf - conf.c:lxc_setup_devpts_child:1751 - Attached detached devpts mount 22 to 20/pts
lxc-start test_vb 20230601182715.358 DEBUG    conf - conf.c:lxc_setup_devpts_child:1837 - Created "/dev/ptmx" file as bind mount target
lxc-start test_vb 20230601182715.358 DEBUG    conf - conf.c:lxc_setup_devpts_child:1844 - Bind mounted "/dev/pts/ptmx" to "/dev/ptmx"
lxc-start test_vb 20230601182715.359 DEBUG    conf - conf.c:lxc_allocate_ttys:1104 - Created tty with ptx fd 24 and pty fd 25 and index 1
lxc-start test_vb 20230601182715.359 DEBUG    conf - conf.c:lxc_allocate_ttys:1104 - Created tty with ptx fd 26 and pty fd 27 and index 2
lxc-start test_vb 20230601182715.359 DEBUG    conf - conf.c:lxc_allocate_ttys:1104 - Created tty with ptx fd 28 and pty fd 29 and index 3
lxc-start test_vb 20230601182715.359 DEBUG    conf - conf.c:lxc_allocate_ttys:1104 - Created tty with ptx fd 30 and pty fd 31 and index 4
lxc-start test_vb 20230601182715.359 INFO     conf - conf.c:lxc_allocate_ttys:1109 - Finished creating 4 tty devices
lxc-start test_vb 20230601182715.359 DEBUG    conf - conf.c:lxc_setup_ttys:1028 - Bind mounted "pts/1" onto "/dev/lxc/tty1"
lxc-start test_vb 20230601182715.360 DEBUG    conf - conf.c:lxc_setup_ttys:1028 - Bind mounted "pts/2" onto "/dev/lxc/tty2"
lxc-start test_vb 20230601182715.360 DEBUG    conf - conf.c:lxc_setup_ttys:1028 - Bind mounted "pts/3" onto "/dev/lxc/tty3"
lxc-start test_vb 20230601182715.360 DEBUG    conf - conf.c:lxc_setup_ttys:1028 - Bind mounted "pts/4" onto "/dev/lxc/tty4"
lxc-start test_vb 20230601182715.360 INFO     conf - conf.c:lxc_setup_ttys:1072 - Finished setting up 4 /dev/tty<N> device(s)
lxc-start test_vb 20230601182715.361 INFO     conf - conf.c:setup_personality:1917 - Set personality to "0lx0"
lxc-start test_vb 20230601182715.361 DEBUG    conf - conf.c:capabilities_deny:3200 - Dropped mac_admin (33) capability
lxc-start test_vb 20230601182715.361 DEBUG    conf - conf.c:capabilities_deny:3200 - Dropped mac_override (32) capability
lxc-start test_vb 20230601182715.361 DEBUG    conf - conf.c:capabilities_deny:3200 - Dropped sys_time (25) capability
lxc-start test_vb 20230601182715.361 DEBUG    conf - conf.c:capabilities_deny:3200 - Dropped sys_module (16) capability
lxc-start test_vb 20230601182715.361 DEBUG    conf - conf.c:capabilities_deny:3200 - Dropped sys_rawio (17) capability
lxc-start test_vb 20230601182715.361 DEBUG    conf - conf.c:capabilities_deny:3203 - Capabilities have been setup
lxc-start test_vb 20230601182715.362 NOTICE   conf - conf.c:lxc_setup:4469 - The container "test_vb" is set up
lxc-start test_vb 20230601182715.362 INFO     apparmor - lsm/apparmor.c:apparmor_process_label_set_at:1186 - Set AppArmor label to "lxc-container-default-cgns"
lxc-start test_vb 20230601182715.362 INFO     apparmor - lsm/apparmor.c:apparmor_process_label_set:1231 - Changed AppArmor profile to lxc-container-default-cgns
lxc-start test_vb 20230601182715.362 WARN     cgfsng - cgroups/cgfsng.c:cgfsng_setup_limits_legacy:2767 - Invalid argument - Ignoring legacy cgroup limits on pure cgroup2 system
lxc-start test_vb 20230601182715.364 DEBUG    terminal - terminal.c:lxc_terminal_peer_default:695 - No such device - The process does not have a controlling terminal
lxc-start test_vb 20230601182715.364 NOTICE   utils - utils.c:lxc_drop_groups:1368 - Dropped supplimentary groups
lxc-start test_vb 20230601182715.364 NOTICE   start - start.c:start:2161 - Exec'ing "/sbin/init"
lxc-start test_vb 20230601182715.368 NOTICE   start - start.c:post_start:2172 - Started "/sbin/init" with pid "10553"
lxc-start test_vb 20230601183413.815 DEBUG    start - start.c:signal_handler:467 - Container init process 10553 exited
lxc-start test_vb 20230601183413.815 DEBUG    start - start.c:__lxc_start:2104 - Interrupt(2) - Container "test_vb" is halting
lxc-start test_vb 20230601183413.815 INFO     error - error.c:lxc_error_set_and_log:34 - Child <10553> ended on signal Interrupt(2)
lxc-start test_vb 20230601183413.892 INFO     network - network.c:lxc_delete_network_priv:3680 - Removed interface "vethjBndRY" from "lxcbr0"
lxc-start test_vb 20230601183413.892 DEBUG    network - network.c:lxc_delete_network:4173 - Deleted network devices
lxc-start test_vb 20230601183413.972 INFO     conf - conf.c:run_script_argv:337 - Executing script "/usr/share/lxcfs/lxc.reboot.hook" for container "test_vb", config section "lxc"